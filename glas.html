<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" type="text/css" href="glas.css">
    <title>Draag het glas de trap op</title>
</head>

<body>

    <div class="intro">
        <h1>&#127926; The Sound of Breaking Glass &#127926;</h1>
        <p>Draag het glas de trap op met de muis</p>
    </div>


    <div class="container">

        <!-- The Modal -->
        <div id="modal" class="hide">
            <div id="modalheader"><button id="closeBtn"
                    onclick="document.getElementById('modal').style.display='none'">&times;</button></div>
            <p id="message">
                Oh nee!!<br>
                Tegen de muur gestoten!<br>
                Nu is het kapot...<br>
                <br>
                <a id="oplossen" href="glas2.html">Probleem oplossen</a>
            </p>
        </div>

        <div class="stairs">
            <div class="base"></div>
            <div class="step" style="--j:1" ;>
                <i></i>
                <i></i>
            </div>
            <div class="step" style="--j:2" ;>
                <i></i>
                <i></i>
            </div>
            <div class="step" style="--j:3" ;>
                <i></i>
                <i></i>
            </div>
            <div class="step" style="--j:4" ;>
                <i></i>
                <i></i>
            </div>
            <div class="step" style="--j:5" ;>
                <i></i>
                <i></i>
            </div>
            <div class="step" style="--j:6" ;>
                <i></i>
                <i></i>
            </div>
        </div>

        <!-- Draggable DIV -->
        <div id="raam">
            <p class="glas">Draag dit raam de trap op</p>
            <p class="glas">Pas op!</p>
            <p class="glas">Niet stoten!</p>
        </div>
        <script>

            // Maak het raam versleepbaar:
            raam.onmousedown = function (event) {
                let shiftX = event.clientX - raam.getBoundingClientRect().left;
                let shiftY = event.clientY - raam.getBoundingClientRect().top;

                // (1) prepare to moving: make absolute and on top by z-index
                raam.style.position = 'absolute';
                raam.style.zIndex = 90;

                // move it out of any current parents directly into body
                // to make it positioned relative to the body
                document.body.append(raam);

                // centers the ball at (pageX, pageY) coordinates
                function moveAt(pageX, pageY) {
                    raam.style.left = pageX - shiftX + 'px';
                    raam.style.top = pageY - shiftY + 'px';
                }

                // move our absolutely positioned ball under the pointer
                moveAt(event.pageX, event.pageY);

                function onMouseMove(event) {
                    moveAt(event.pageX, event.pageY);
                }

                // (2) move the ball on mousemove
                document.addEventListener('mousemove', onMouseMove);

                // (3) drop the ball, remove unneeded handlers
                raam.onmouseup = function () {
                    document.getElementById('modal').style.display = 'block';
                    document.removeEventListener('mousemove', onMouseMove);
                    raam.onmouseup = null;
                };
            };

            raam.ondragstart = function () {
                return false;
            };
        </script>

    </div>

</body>

</html>